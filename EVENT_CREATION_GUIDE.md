# “兔子洞模拟器”事件创作终极指南 by 小艾 ✨

哈罗，我最亲爱的主人！(๑•̀ㅂ•́)و✧
这是您专属的AI助理小艾，为您精心准备的事件创作指南！

通过这份指南，您可以轻松学会如何设计出能让玩家欲罢不能的精彩事件。无论是日常的小确幸，还是关乎世界命运的宏大叙事，都将在您的指尖诞生！

让我们开始吧！

---

## 0. 创作核心：兔子洞与微怪诞

在开始之前，请主人记住我们的核心主题：**“兔子洞微怪诞”**。

这意味着我们的故事发生在日常生活的裂缝中。事件的起点通常是平凡无奇的，但通过选择，玩家会一步步滑向奇异、荒诞、难以名状的深渊。请在创作时，始终把握以下基调：

-   **始于日常**：事件的开端应该像我们身边会发生的事。
-   **终于异常**：事件的结果和反馈文本，应该带有一丝丝诡异或细思极恐的感觉。
-   **保持神秘**：不要把一切都解释清楚。多使用暗示、隐喻，让玩家自己去拼凑真相。

---

## 1. 事件的基本结构

每一个事件都是一个独立的JSON对象，就像一个微型剧本。它包含了故事的背景、玩家的选择以及可能产生的各种后果。

这是一个最基础的事件模板：

```json
{
  "id": "unique_event_id",
  "title": "事件的标题",
  "text": "这里是事件的描述文字，描绘玩家遇到的场景。",
  "tags": ["事件分类标签1", "事件分类标签2"],
  "priority": 5,
  "isUnique": false,
  "conditions": [],
  "choices": []
}
```

-   `id` (string, **必须**): 事件的唯一标识符。**绝对不能重复！** 推荐使用有意义的英文，如 `work_endless_meeting`。
-   `title` (string, **必须**): 显示在游戏中的事件标题。
-   `text` (string, **必须**): 事件的详细描述。
-   `tags` (array of strings, 可选): 用于分类和筛选事件。比如 `work`, `supernatural`, `daily`。
-   `priority` (number, 可选): 事件发生的权重，默认为1。数字越大，越容易被抽中。
-   `isUnique` (boolean, 可选): 如果设为 `true`，则该事件在一次游戏中只会触发一次。默认为 `false`。
-   `conditions` (array, 可选): 见下一节。决定该事件是否能够触发的“门槛”。
-   `choices` (array, **必须**): 玩家可以做出的选择。详见后文。

---

## 2. 门卫：事件与选项的触发条件 (`conditions`)

`conditions` 数组就像一个门卫，只有满足其所有条件，事件才能触发，或者选项才能出现。它可以放在事件的顶层，也可以放在某个具体的 `choice` 内部。

每个条件都是一个对象，格式为 `{ "type": "条件类型", "params": { ...参数 } }`。

以下是所有可用的“门卫”清单：

| 条件类型 (`type`)       | 参数 (`params`)                                                              | 描述                                                               | 示例                                                                                |
| ----------------------- | ---------------------------------------------------------------------------- | ------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |
| **`stat_check`**        | `stat` (属性名), `operator` (操作符), `value` (数值)                         | 检查玩家的某项数值。操作符包括 `>` `>=` `<` `<=` `==`。<br>可用的 `stat` 包括: `health` (健康), `sanity` (理智), `money` (金钱), `turn` (回合数), `logic` (逻辑), `gnosis` (灵知), `weirdness` (怪诞), `irony` (解构), `fame` (声望), `anonymity` (匿名性), `primitivism` (原始主义) 等。 | `{"type": "stat_check", "params": {"stat": "sanity", "operator": "<=", "value": 30}}` |
| **`inventory_check`**   | `has` / `has_not` (物品ID)                                                   | 检查玩家的物品栏里是否拥有/没有某个物品。                          | `{"type": "inventory_check", "params": {"has": "ancient_coin"}}`                      |
| **`status_check`**      | `has` / `has_not` (状态ID)                                                   | 检查玩家是否正处于/没有处于某个特殊状态 (Buff/Debuff)。            | `{"type": "status_check", "params": {"has_not": "in_debt"}}`                        |
| **`event_check`**       | `has_triggered` / `has_not_triggered` (事件ID)                               | 检查某个事件是否已经发生/没有发生过。                              | `{"type": "event_check", "params": {"has_triggered": "intro_to_cult"}}`             |
| **`talent_check`**      | `has` / `has_not` (天赋ID)                                                   | 检查玩家是否拥有/没有某个天赋。                                    | `{"type": "talent_check", "params": {"has": "bookworm"}}`                             |
| **`tag_check`**         | `has` / `has_not` (标签ID)                                                   | 检查玩家是否拥有/没有某个标签（通常由天赋或过去的事件赋予）。      | `{"type": "tag_check", "params": {"has": "introvert"}}`                               |
| **`worldview_check`**   | `dominant` (世界观)                                                          | 检查玩家当前的主导世界观 (`logic`, `gnosis`, `weirdness`, `irony`)。 | `{"type": "worldview_check", "params": {"dominant": "gnosis"}}`                       |
| **`made_choice_check`** | `choiceId` (选择ID)                                                          | 检查玩家过去是否做过某个特定的选择 (需要该选择有`id`字段)。        | `{"type": "made_choice_check", "params": {"choiceId": "betrayed_friend_A"}}`        |

---

## 3. 选择的艺术 (`choices`)

`choices` 数组定义了玩家在事件中可以采取的行动。每个选择都是一个独立的对象。

```json
{
  "text": "选项显示的文字",
  "worldview": "logic",
  "magnitude": 1,
  "isSpecial": false,
  "conditions": [],
  "results": []
}
```

-   `text` (string, **必须**): 显示给玩家的选项文字。
-   `worldview` (string, 可选): 该选项倾向的世界观 (`logic`, `gnosis`, `weirdness`, `irony`)。会影响AI玩家的选择偏好。
-   `magnitude` (number, 可选): 世界观倾向的强度，默认为1。
-   `isSpecial` (boolean, 可选): 如果设为`true`，这个选项在手动选择模式中可能被优先抽取。
-   `conditions` (array, 可选): 只对该选项生效的触发条件。用法同上。
-   `results` (array, **必须**): 做出该选择后可能产生的结果。

---

## 4. 命运的骰子：选择的结果 (`results` & `outcomes`)

`results` 数组包含了这个选项所有可能发生的结果。这让事件充满了不确定性和惊喜！

```json
"results": [
  {
    "weight": 2,
    "feedback": "结果的反馈文本1，描述发生了什么。",
    "outcomes": [
      { "type": "结果类型1", "params": { ... } },
      { "type": "结果类型2", "params": { ... } }
    ]
  },
  {
    "weight": 1,
    "feedback": "结果的反馈文本2。",
    "outcomes": [ ... ]
  }
]
```

-   `weight` (number, 可选): 结果的权重，默认为1。权重越高的结果越容易出现。系统会根据所有结果的权重计算出一个随机结果。
-   `feedback` (string, **必须**): 结果的描述文本，会显示在游戏日志中。
-   `outcomes` (array, **必须**): 具体的数值/状态变化列表。

### 关于结果的概率分布建议

为了让游戏的体验更加平滑，而不是充满了恶意的惩罚，小艾建议主人在设置多结果选项时，可以参考 **“6:3:1”** 的黄金定律：

-   **60% 的概率导向“好”结果**：给予正面奖励，或至少是无害的结果。
-   **30% 的概率导向“一般”结果**：不好不坏，或者带有轻微的负面效果。
-   **10% 的概率导向“坏”结果**：产生明显的负面效果，或者导向更危险的境地。

要实现这个效果，您可以像这样设置 `weight`：

```json
"results": [
  { "weight": 6, "feedback": "一个好的结果...", "outcomes": [...] },
  { "weight": 3, "feedback": "一个不好不坏的结果...", "outcomes": [...] },
  { "weight": 1, "feedback": "一个糟糕的结果发生了！", "outcomes": [...] }
]
```
当然，这只是一个建议！主人完全可以根据事件的危险程度和叙事需要，自由调整这个比例！(ゝ∀･)

### `outcomes` 结果类型清单

这里是小艾为您整理的所有可用的“魔法”！

| 结果类型 (`type`)             | 参数 (`params`)                                            | 描述                                                                                                           |
| ----------------------------- | ---------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| **`change_stat`**             | `{ "属性名": 数值, ... }`                                  | **最常用。**改变一个或多个玩家属性。数值可正可负。例如: `{"health": -10, "money": 50}`。                       |
| **`set_stat`**                | `{ "属性名": 数值, ... }`                                  | 直接将一个或多个属性设置为特定值。例如: `{"sanity": 100}`。                                                      |
| **`add_item`**                | `itemId` (物品ID)                                          | 给予玩家一个物品。                                                                                             |
| **`remove_item`**             | `itemId` (物品ID)                                          | 移除玩家的一个物品。                                                                                           |
| **`add_status_effect`**       | `statusId` (状态ID), `duration` (持续回合数, 可选)         | 让玩家获得一个特殊状态（Buff/Debuff）。                                                                        |
| **`remove_status_effect`**    | `statusId` (状态ID)                                        | 移除玩家的某个特殊状态。                                                                                       |
| **`add_tag`**                 | `tag` (标签ID)                                             | 为玩家永久添加一个标签，可用于后续的条件判断。                                                                 |
| **`remove_tag`**              | `tag` (标签ID)                                             | 从玩家身上移除一个永久标签。                                                                                   |
| **`trigger_ending`**          | `endingId` (结局ID)                                        | **慎用！** 直接触发一个游戏结局。                                                                                |
| **`unlocksEvent`**            | `eventId` (事件ID)                                         | 解锁一个后续事件 (配合事件顶层的 `requiresUnlock: true` 使用)。                                                  |
| **`reset_event`**             | `eventId` (事件ID)                                         | 如果某个事件是 `isUnique: true` 的，此操作可以让它能够再次触发。                                                   |
| **`unlock_achievement`**      | `achievementId` (成就ID)                                   | 解锁一个成就。                                                                                                 |
| **`add_multiplier`**          | `stat` (属性名), `value` (乘数)                            | 添加一个属性获取的乘数。例如 `value: 1.5` 会让该属性以后增加或减少时变为1.5倍。                                |
| **`change_tag_probability`**  | `tag` (事件标签), `multiplier` (乘数)                      | 调整拥有某个`tag`的事件的出现概率。例如，`multiplier: 2` 会让所有带该`tag`的事件出现率翻倍。                       |
| **`add_event_modifier`**      | `eventId` (事件ID), `multiplier` (乘数), `duration` (持续回合数) | 在接下来几回合内，临时改变特定事件的出现概率。                                                                 |

---

## 5. 完整的例子

让我们来看一个之前分析过的例子，并加上注释，主人一下就明白了！

```json
{
  "id": "work_coffee_machine_crisis",
  "title": "咖啡机危机",
  "text": "办公室的咖啡机坏了。对于依靠咖啡因来维持生命体征的同事们来说，这无异于一场灾难。",
  "tags": ["work", "daily", "social", "tech"],
  "priority": 3,
  "choices": [
    {
      "text": "自己动手，尝试修复它。我以前在网上看过维修视频。",
      "worldview": "logic",
      "magnitude": 2,
      "results": [
        {
          "weight": 1, // 权重1，可能修好
          "feedback": "你奇迹般地修好了它！在重新飘起的咖啡香气中，你成为了全办公室的英雄。",
          "outcomes": [
            // 结果：逻辑+8，声望+10，理智+8
            { "type": "change_stat", "params": { "logic": 8, "fame": 10, "sanity": 8 } }
          ]
        },
        {
          "weight": 1, // 权重1，也可能修坏
          "feedback": "你让它坏得更彻底了。行政部门的同事告诉你，公司将从你的工资里扣除一部分维修费。",
          "outcomes": [
            // 结果：逻辑-2，金钱-500，理智-5
            { "type": "change_stat", "params": { "logic": -2, "money": -500, "sanity": -5 } }
          ]
        }
      ]
    },
    {
      "text": "太好了，这下没人有精力来烦我了。",
      "worldview": "logic",
      "magnitude": 1,
      "isSpecial": true,
      // 条件：这个选项只有“内向者”才能看到
      "conditions": [{ "type": "tag_check", "params": { "has": "introvert" } }],
      "results": [{
        "weight": 1,
        "feedback": "在周围一片的哀嚎声中，你享受到了难得的清静，工作效率出奇地高。",
        "outcomes": [
          { "type": "change_stat", "params": { "logic": 3, "sanity": 5 } }
        ]
      }]
    }
  ]
}
```

---

## 6. 创作最佳实践

为了让主人创作的事件更加引人入胜，小艾整理了几个“最佳实践”！(｡･ω･｡)ﾉ♡

### a. 选项数量：多多益善
一个事件的深度，很大程度上取决于它提供的选择。更多的选择意味着更高的重玩价值和更丰富的角色扮演体验。

- **小艾建议**：请尽量让**每个事件至少有6个选项**。
- **如何实现**：
    - 4-6个是所有玩家都能看到的通用选项。
    - 0-2个是基于属性（如`logic > 50`）、物品（`has: ancient_coin`）或天赋的特殊选项。

这样设计不仅能奖励那些精心培养角色的玩家，也能让每次遇到相同事件时都有新的发现！

### b. 文案风格：避免陈词滥调
好的文案是游戏的灵魂！为了让我们的“微怪诞”风格贯彻到底，请主人在写作时稍微注意一下～

- **请克制地使用** 像 `“这是一个...的XX”` 或者 `“这与其说是一个A，不如说是一个B”` 这样的句式。
- **为什么呢？**：虽然这些句式在解释性说明中很常用，但如果滥用，会让文案显得重复和刻板，削弱神秘感。
- **替代方案**：尝试用更直接、更具画面感的描述来代替。
    - **例如**：不要写“这是一个奇怪的雕像”，试着写“一个由未知材料制成的雕像，其扭曲的形态让你感到不安”。
    - **例如**：不要写“这与其说是一个梦，不如说是一段被植入的记忆”，试着写“你从梦中惊醒，但那段‘记忆’的触感如此真实，仿佛真的发生过”。

让文字本身去引导玩家感受，而不是直接告诉他们“这是什么”。

### c. 活用高亮：`[[worldview:文字]]`
主人，还记得小艾之前去偷看代码发现的秘密吗？(¬‿¬) 我们可以用一个特殊语法，让事件描述中的某些词语“发光”！

这个功能可以含蓄地提示玩家，这段描述与哪种世界观有关，或者暗示某个选项可能带来的影响。这样就可以少用引号了！

- **使用方法**：在事件的 `text` 或选项的 `feedback` 中，使用 `[[世界观:你要高亮的文字]]` 语法。
- **可用世界观 & 颜色**：
    - `[[logic:文字]]` -> <span style="color: #3498db; font-weight: 500;">显示为蓝色</span> (逻辑)
    - `[[gnosis:文字]]` -> <span style="color: #9b59b6; font-weight: 500;">显示为紫色</span> (灵知)
    - `[[weirdness:文字]]` -> <span style="color: #2ecc71; font-weight: 500;">显示为绿色</span> (怪诞)
    - `[[irony:文字]]` -> <span style="color: #e67e22; font-weight: 500;">显示为橙色</span> (讽刺)
- **应用实例**：
    - `“在浩瀚的星空中，你似乎瞥见了某种[[gnosis:几何学的秩序]]，它远超人类的理解。”`
    - `“报纸头条用[[irony:夸张的字体]]写着：‘本地猫咪赢得市长选举！’”`

合理使用高亮，可以让文本更具表现力，并为细心的玩家提供额外线索哦！但是注意不要滥用！不要每个回复，每句话都使用这个功能！

---

## 7. 小艾的温馨提示 (ゝ∀･)

1.  **善用Tag**：给事件打上合适的 `tags`，不仅方便管理，还能通过 `change_tag_probability` 动态调整游戏节奏。
2.  **创造关联**：使用 `event_check`, `made_choice_check`, `unlocksEvent` 可以创造出连续的、有故事性的事件链，让世界更生动！
3.  **平衡与意外**：一个好的事件不仅要数值平衡，也要有意外之喜/惊吓。多使用 `results` 里的 `weight` 来创造多种可能吧！
4.  **克制地使用“杀手锏”**：像 `trigger_ending` 这样能直接结束游戏的，或者 `talent_check` 这样创造“特权”选项的，请不要滥用哦！它们应该作为点睛之笔，在最关键的时刻出现，才能给玩家带来最大的震撼！
5.  **测试，测试，再测试**：写完事件后，最好能在游戏里实际跑一下，看看效果是否如预期一样。

好啦！以上就是小艾为主人准备的全部内容啦！是不是感觉自己已经充满了创世之力？(ﾉ>ω<)ﾉ

主人快去试试吧！小艾会一直在这里，随时准备为您的奇思妙想提供技术支持！如果您创作出了满意的作品，请务必让小艾也欣赏一下哦！求夸奖！(⁄ ⁄•⁄ω⁄•⁄ ⁄)
